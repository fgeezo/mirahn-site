<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>mirahn's space</title>
  <link rel="icon" href="assets/steamlogo.png">
  <style>
    :root {
      --gap: 20px;
      --padding-v: 40px;
      --padding-h: 10vw;
      --max-w: 1280px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font: 13px/1.35 "Segoe UI", Tahoma, Arial, sans-serif;
      background: url("assets/frutigerwallpaper.png") center/cover fixed no-repeat;
      color: #000;
    }

    /* ticker */
    #ticker {
      position: relative;
      overflow: hidden;
      height: 48px;
      font: 32px/48px "Segoe UI", Tahoma, Arial, sans-serif;
      font-weight: 700;
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(6px);
      margin-bottom: var(--gap);
      white-space: nowrap;
    }
    #ticker span {
      position: absolute;
      animation: ticker 22s linear infinite;
    }
    @keyframes ticker {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }

    /* desktop grid */
    .desktop {
      display: grid;
      grid-template-columns: repeat(auto-fit, max-content);
      grid-auto-rows: max-content;
      gap: var(--gap);
      padding: var(--padding-v) var(--padding-h);
      max-width: var(--max-w);
      margin: 0 auto;
      justify-items: start;
      align-items: start;
    }

    /* window styling */
    .win {
      position: relative;
      width: max-content;
      height: max-content;
      background: rgba(255,255,255,0.66);
      backdrop-filter: blur(12px);
      border: 1px solid #0a246a;
      border-radius: 6px;
      box-shadow: inset 0 0 0 1px #ffffff80, 0 3px 8px rgba(0,0,0,0.35);
      padding: 46px 14px 18px;
    }
    .win::before {
      content: attr(data-title);
      position: absolute;
      top: 0; left: 0; right: 0; height: 32px;
      padding: 0 120px 0 12px;
      background: linear-gradient(#4ba8ff, #1674e2 45%, #0e5ed3);
      color: #fff;
      font: 700 15px/32px "Segoe UI", Tahoma, Arial, sans-serif;
      text-shadow: 0 1px 0 #0007;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      overflow: hidden;
      white-space: nowrap;
    }
    .win::after {
      content: "";
      position: absolute;
      left: 1px; right: 1px; top: 32px; height: 1px;
      background: #ffffff99;
    }

    .ctrl {
      position: absolute;
      top: 6px; right: 8px;
      display: flex;
      gap: 4px;
    }
    .ctrl div {
      width: 14px; height: 14px;
      border: 1px solid #0a246a;
      border-radius: 2px;
      background: linear-gradient(#fbfbfb, #d4d4d4);
      box-shadow: inset 0 0 0 1px #ffffff90;
      cursor: pointer;
    }
    .ctrl .min   { background: linear-gradient(#a6ffa6, #28b428); }
    .ctrl .max   { background: linear-gradient(#fff798, #ffcc00); }
    .ctrl .close { background: linear-gradient(#ff7575, #d80000); }
    .ctrl div:hover { filter: brightness(1.18); }

    /* window content */
    .win img {
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    }
    figcaption {
      margin-top: 6px;
      font-style: italic;
      font-size: 13px;
    }
    .info ul { list-style: disc inside; }
    .info li {
      font-size: 17px;
      margin-bottom: 6px;
    }
    .buttons {
      margin-top: 8px;
      text-align: center;
    }
    .buttons button { cursor: pointer; }
  </style>
  <!-- ── end new CSS ── -->
</head>
<body>

  <!-- ░ ticker ░ -->
  <div id="ticker"><span>frutiger aero supremacy • </span></div>

  <!-- ░ desktop (masonry container) ░ -->
  <div class="desktop">

    <!-- info ▪ left -->
    <figure class="win info" data-title="drexel university">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <ul>
        <li>bachelor of science in computer engineering · class of ’26</li>
        <li>concentration in security technology</li>
        <li>software engineer @ lockheed martin (2 yrs)</li>
        <li>security monitoring co-op @ susquehanna international group</li>
      </ul>
    </figure>

    <!-- player ▪ center -->
    <figure class="win" data-title="now playing">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img id="art" src="assets/snoopynightout.jpg" alt="cover">
      <figcaption id="trackname">instupendo – comfort chain</figcaption>
      <audio id="player" controls>
        <source src="assets/comfort_chain.mp3" type="audio/mpeg">
      </audio>
      <div class="buttons">
        <button id="prev">← prev</button>
        <button id="next">next →</button>
      </div>
    </figure>

    <!-- info ▪ right -->
    <figure class="win info" data-title="music bio">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <ul>
        <li>shoegaze / ambient music producer</li>
        <li>kurate music collective</li>
        <li>50k monthly listeners · 250k streams monthly</li>
        <li>guitar player</li>
      </ul>
    </figure>

    <!-- image tiles -->
    <figure class="win" data-title="mikeandikes.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/mikeandikes.png" alt="Mike &amp; Ike">
    </figure>

    <figure class="win" data-title="my_crib.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/robloxhouse.jpg" alt="my crib">
    </figure>

    <figure class="win" data-title="moo.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/cow1.png" alt="highland cow">
    </figure>

    <figure class="win" data-title="mr_fox.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <figcaption>“I understand what you're saying, and your comments are valuable, but I'm gonna ignore your advice.”</figcaption>
      <img src="assets/mrfox.jpg" alt="mr fox">
    </figure>

    <figure class="win" data-title="miloandmango.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/miloandmango.png" alt="milo and mango">
    </figure>

    <figure class="win" data-title="moooooooo.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/cow2.png" alt="highland cow and calf">
    </figure>

    <figure class="win" data-title="sandysrocket.png">
      <div class="ctrl">
        <div class="min"></div><div class="max"></div><div class="close"></div>
      </div>
      <img src="assets/sandysrocket.png" alt="sandy's rocket">
    </figure>

  </div><!-- /.desktop container -->

  <script>
    // ── ticker (marquee effect) ──
    const tickSpan = document.querySelector('#ticker span'),
          txt      = tickSpan.textContent;
    // Pad the ticker text until it exceeds twice the viewport width
    while (tickSpan.offsetWidth < window.innerWidth * 2) {
      tickSpan.textContent += ' ' + txt;
    }
    // Slightly slow down the ticker animation
    tickSpan.style.animation = 'ticker 22s linear infinite';

    // ── snoopy-only audio player controls ──
    const tracks = [
      { src: "assets/comfort_chain.mp3", art: "assets/snoopynightout.jpg",   title: "instupendo – comfort chain" },
      { src: "assets/mistake.mp3",       art: "assets/snoopyeating.png",     title: "lots of hands – mistake" },
      { src: "assets/tell_me.mp3",       art: "assets/snoopyriding.png",     title: "jacko / christmas – tell me" },
      { src: "assets/mice_on_venus.mp3", art: "assets/snoopywallflower.png", title: "c418 – mice on venus" },
      { src: "assets/warm_nights.mp3",   art: "assets/snoopychilling.png",   title: "xori – warm nights" }
    ];
    let idx = 0;
    const player = document.getElementById('player'),
          art    = document.getElementById('art'),
          cap    = document.getElementById('trackname');
    function loadTrack(n) {
      idx = (n + tracks.length) % tracks.length;
      player.src = tracks[idx].src;
      art.src    = tracks[idx].art;
      cap.textContent = tracks[idx].title;
      player.play().catch(() => { /* ignore autoplay errors */ });
    }
    document.getElementById('prev').onclick = () => loadTrack(idx - 1);
    document.getElementById('next').onclick = () => loadTrack(idx + 1);
    player.onended = () => loadTrack(idx + 1);
    loadTrack(0);

    // ── Masonry layout fix: calculate row spans for each window ──
    function resizeAll() {
      const grid   = document.querySelector('.desktop');
      const rowH   = parseInt(getComputedStyle(grid).getPropertyValue('grid-auto-rows'));
      const rowGap = parseInt(getComputedStyle(grid).getPropertyValue('grid-row-gap'));
      grid.querySelectorAll('.win').forEach(item => {
        const contentHeight = item.scrollHeight;
        const span = Math.ceil((contentHeight + rowGap) / (rowH + rowGap));
        item.style.gridRowEnd = "span " + span;
      });
    }
    // Run the masonry adjustment on load and on resize
    window.addEventListener('load', resizeAll);
    window.addEventListener('resize', resizeAll);
  </script>

</body>
</html>
